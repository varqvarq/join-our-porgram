(()=>{"use strict";var e=["gmail.com","outlook.com","yandex.ru"];function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,a(o.key),o)}}function r(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:String(n)}var i=function(){function t(e,o){n(this,t),this.title=e||"Join Our Program",this.buttonText=o||"subscribe",this.section=null}return r(t,[{key:"createSection",value:function(){var t=document.createElement("section"),n=document.createElement("h2"),o=document.createElement("h3"),r=document.createElement("form"),a=document.createElement("input"),i=document.createElement("button");t.className="app-section app-section--join-our-program",n.className="app-title",n.innerHTML=this.title,o.className="app-subtitle",o.innerHTML="Sed do eiusmod tempor incididunt<br>ut labore et dolore magna aliqua.",r.className="app-section__form not-sub",a.className="app-section__form-input",a.placeholder="Email",a.required=!0,a.type="email",a.value=localStorage.getItem("email"),i.className="app-section__button app-section__button--join-op",i.innerHTML=this.buttonText;var c=function(){var e=localStorage.getItem("email");r.classList.contains("not-sub")&&e?(r.classList.toggle("not-sub"),i.innerHTML="unsubscribe",a.style.display="none",localStorage.setItem("sub",!0)):(r.classList.toggle("not-sub"),a.style.display="",a.value="",localStorage.clear())};return a.addEventListener("input",(function(e){localStorage.setItem("email",a.value)})),r.addEventListener("submit",(function(t){t.preventDefault(),!function(t){var n=t.split("@")[1];return e.includes(n)}(a.value)?alert("Enter a correct email"):c()})),localStorage.getItem("sub")&&c(),r.append(a,i),t.append(n,o,r),this.section=t,t}},{key:"remove",value:function(){this.section&&this.section.remove()}}]),t}(),c=(new(function(){function e(){n(this,e),this.standard=new i,this.advanced=new i("Join Our Advanced Program","Subscribe to Advanced Program")}return r(e,[{key:"create",value:function(e){switch(e){case"standard":return this.standard.createSection();case"advanced":return this.advanced.createSection();default:throw new Error("Invalid section type")}}}]),e}())).create("standard"),u=document.querySelector(".app-footer");document.addEventListener("DOMContentLoaded",(function(e){u.before(c)}))})();