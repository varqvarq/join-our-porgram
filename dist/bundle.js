(()=>{"use strict";var e=["gmail.com","outlook.com","yandex.ru"];function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:String(n)}var i=function(){function t(e,r){n(this,t),this.title=e||"Join Our Program",this.buttonText=r||"subscribe",this.section=null}return o(t,[{key:"createSection",value:function(){var t=this,n=document.createElement("section"),r=document.createElement("h2"),o=document.createElement("h3"),a=document.createElement("form"),i=document.createElement("input"),c=document.createElement("button");n.className="app-section app-section--join-our-program",r.className="app-title",r.textContent=this.title,o.className="app-subtitle",o.innerHTML="Sed do eiusmod tempor incididunt<br>ut labore et dolore magna aliqua.",a.className="app-section__form",i.className="app-section__form-input",i.setAttribute("placeholder","Email"),i.setAttribute("required",!0),i.setAttribute("type","email"),i.value=localStorage.getItem("email"),c.className="app-section__button app-section__button--join-op",c.textContent=this.buttonText;var u=function(){c.textContent="unsubscribe",i.classList.add("hidden"),localStorage.setItem("subcribed","true"),i.value=""};return localStorage.getItem("subcribed")&&u(),i.addEventListener("input",(function(){localStorage.setItem("email",i.value)})),c.addEventListener("click",(function(){"unsubscribe"===c.textContent&&(c.textContent=t.buttonText,i.classList.remove("hidden"),localStorage.setItem("subcribed","false"),i.value="",localStorage.clear())})),a.addEventListener("submit",(function(t){t.preventDefault();var n=function(t){var n=t.split("@")[1];return e.includes(n)}(i.value),r=localStorage.getItem("email");n&&r&&u()})),a.append(i,c),n.append(r,o,a),this.section=n,n}},{key:"remove",value:function(){this.section&&this.section.remove()}}]),t}();var c=(new(function(){function e(){n(this,e),this.standard=new i,this.advanced=new i("Join Our Advanced Program","Subscribe to Advanced Program")}return o(e,[{key:"create",value:function(e){switch(e){case"standard":return this.standard.createSection();case"advanced":return this.advanced.createSection();default:throw new Error("Invalid section type")}}}]),e}())).create("standard");document.querySelector(".app-footer").before(c)})();